<ion-view class="feeds-categories-view"  cache-view="false">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-nav-title>
    <span>Giphy</span>
  </ion-nav-title>
  <ion-content>
    <!-- Refresh to get the new posts -->
    <ion-refresher pulling-text="Pull to refresh..." on-refresh="doRefresh()">
    </ion-refresher>

    <div class="row categories-list">
      <!-- rjm collection-repeat does not make this grid more responsive
      look into caching, upgrading to collection-repeat -->

      <div ng-repeat="img in giphyDataCache track by $index" class="col col-50">
        <a class="feed-category" ui-sref="app.img_detail({imgTitle: img.slug, imgLink: img.images.fixed_height.url, imgSource: 'Giphy'})">
           <pre-img ratio="_1_1" helper-class="square-image">
            <img class="category-image" ng-src="{{img.images.fixed_height.url}}" spinner-on-load>
          </pre-img>
          <div class="category-bg"></div>
          <span class="category-title">{{img.slug}}</span>
        </a>
      </div>
    </div>

    <!-- Infinit scroll -->
    <ion-infinite-scroll  immediate-check="false" on-infinite="loadMoreData()" distance="1%" icon="ion-loading-c">
    </ion-infinite-scroll>
  </ion-content>
</ion-view>
